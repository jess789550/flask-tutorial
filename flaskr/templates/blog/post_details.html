{% extends 'base.html' %}

{% block header %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ post.title }}</title>
{% endblock %}

{% block content %}
    <h1>{{ post.title }}</h1>
    <p><strong>By:</strong> {{ post.username }} | <strong>Created:</strong> {{ post.created }}</p>
    <p>{{ post.body }}</p>

    <!-- Display Like/Unlike button -->
    <form action="{{ url_for('blog.like_post', id=post.id) }}" method="POST">
        {% if post.user_liked %}
            <button type="submit">Unlike</button>
        {% else %}
            <button type="submit">Like</button>
        {% endif %}
    </form>

    <p>Likes: {{ post.likes_count }}</p>
    
    <a href="{{ url_for('blog.index') }}">Back to all posts</a>
{% endblock %}
